{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport React, { useContext, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { auth } from \"../../firebase\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { getProfile } from \"../services/profileService\";\nimport LoginScreen from \"./LoginScreen\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ProfileScreen = function ProfileScreen(_ref) {\n  var profile = _ref.profile,\n      setProfile = _ref.setProfile;\n\n  var _useContext = useContext(UserContext),\n      isLoggedIn = _useContext.isLoggedIn,\n      setIsLoggedIn = _useContext.setIsLoggedIn;\n\n  function updateProfile() {\n    return _updateProfile.apply(this, arguments);\n  }\n\n  function _updateProfile() {\n    _updateProfile = _asyncToGenerator(function* () {\n      var data = yield getProfile();\n      setProfile(data);\n    });\n    return _updateProfile.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    updateProfile();\n  }, []);\n\n  var handleSignOut = function handleSignOut() {\n    auth.signOut().then(function () {\n      setIsLoggedIn(false);\n    }).catch(function (error) {\n      return console.log('[ERROR] ', error.message);\n    });\n  };\n\n  return _jsx(_Fragment, {\n    children: isLoggedIn ? _jsxs(View, {\n      style: styles.container,\n      children: [profile ? _jsxs(_Fragment, {\n        children: [_jsx(Image, {\n          source: {\n            uri: profile.image\n          },\n          style: styles.imageBox\n        }), _jsx(Text, {\n          style: styles.nameText,\n          children: profile.name\n        }), _jsx(Text, {\n          style: styles.memoText,\n          children: profile.memo\n        })]\n      }) : _jsx(Text, {\n        style: styles.text,\n        children: \"Please edit your profile\"\n      }), _jsx(TouchableOpacity, {\n        onPress: handleSignOut,\n        style: styles.button,\n        children: _jsx(Text, {\n          style: styles.buttonText,\n          children: \"Sign out\"\n        })\n      })]\n    }) : _jsx(LoginScreen, {})\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    borderWidth: 1,\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  imageBox: {\n    width: 200,\n    height: 200,\n    borderRadius: 100,\n    marginBottom: 15\n  },\n  nameText: {\n    fontFamily: 'Poppins-SemiBold',\n    fontSize: 25\n  },\n  memoText: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: 16\n  },\n  text: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: 20\n  },\n  boxContainer: {\n    flex: 1 / 2,\n    flexDirection: 'row',\n    marginTop: 55\n  },\n  box: {\n    marginHorizontal: 13,\n    borderWidth: 1,\n    borderRadius: 5,\n    width: 90,\n    height: 90\n  },\n  button: {\n    width: '40%',\n    marginTop: 50,\n    padding: 15,\n    alignItems: 'center',\n    borderRadius: 30,\n    backgroundColor: '#152238'\n  },\n  buttonText: {\n    fontFamily: 'Poppins-SemiBold',\n    fontWeight: '700',\n    fontSize: 16,\n    color: 'white'\n  }\n});\nexport default ProfileScreen;","map":{"version":3,"names":["React","useContext","useEffect","auth","UserContext","getProfile","LoginScreen","ProfileScreen","profile","setProfile","isLoggedIn","setIsLoggedIn","updateProfile","data","handleSignOut","signOut","then","catch","error","console","log","message","styles","container","uri","image","imageBox","nameText","name","memoText","memo","text","button","buttonText","StyleSheet","create","flex","borderWidth","alignItems","justifyContent","width","height","borderRadius","marginBottom","fontFamily","fontSize","boxContainer","flexDirection","marginTop","box","marginHorizontal","padding","backgroundColor","fontWeight","color"],"sources":["/Users/sebastiansiclari/Desktop/Cabinet-of-Curiosities/client/src/screens/ProfileScreen.js"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useContext, useEffect } from 'react';\nimport { StyleSheet, Text, TouchableOpacity, View, Image } from 'react-native';\nimport { auth } from '../../firebase';\nimport { UserContext } from '../contexts/UserContext';\nimport { getProfile } from '../services/profileService';\nimport LoginScreen from './LoginScreen';\n\nconst ProfileScreen = ({ profile, setProfile }) => {\n  const { isLoggedIn, setIsLoggedIn } = useContext(UserContext);\n\n  async function updateProfile() {\n    const data = await getProfile();\n    setProfile(data);\n  }\n\n  useEffect(() => {\n    updateProfile();\n  }, []);\n\n  const handleSignOut = () => {\n    auth\n      .signOut()\n      .then(() => {\n        setIsLoggedIn(false);\n      })\n      .catch((error) => console.log('[ERROR] ', error.message));\n  };\n\n  return (\n    <>\n      {isLoggedIn ? (\n        <View style={styles.container}>\n          {profile ? (\n            <>\n              <Image source={{ uri: profile.image }} style={styles.imageBox} />\n              <Text style={styles.nameText}>{profile.name}</Text>\n              <Text style={styles.memoText}>{profile.memo}</Text>\n            </>\n          ) : (\n            <Text style={styles.text}>Please edit your profile</Text>\n          )}\n          <TouchableOpacity onPress={handleSignOut} style={styles.button}>\n            <Text style={styles.buttonText}>Sign out</Text>\n          </TouchableOpacity>\n        </View>\n      ) : (\n        <LoginScreen />\n      )}\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    borderWidth: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  imageBox: {\n    width: 200,\n    height: 200,\n    borderRadius: 100,\n    marginBottom: 15,\n  },\n  nameText: {\n    fontFamily: 'Poppins-SemiBold',\n    fontSize: 25,\n  },\n  memoText: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: 16,\n  },\n  text: {\n    fontFamily: 'Poppins-Regular',\n    fontSize: 20,\n  },\n  boxContainer: {\n    flex: 1 / 2,\n    flexDirection: 'row',\n    marginTop: 55,\n  },\n  box: {\n    marginHorizontal: 13,\n    borderWidth: 1,\n    borderRadius: 5,\n    width: 90,\n    height: 90,\n  },\n  button: {\n    width: '40%',\n    marginTop: 50,\n    padding: 15,\n    alignItems: 'center',\n    borderRadius: 30,\n    backgroundColor: '#152238',\n  },\n  buttonText: {\n    fontFamily: 'Poppins-SemiBold',\n    fontWeight: '700',\n    fontSize: 16,\n    color: 'white',\n  },\n});\n\nexport default ProfileScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}